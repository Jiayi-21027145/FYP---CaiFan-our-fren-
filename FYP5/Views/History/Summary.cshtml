@model List<dynamic>

@{
    Layout = "_CaiFan";

    var years = new List<int> { 2022, 2023, 2024 }; // Populate this list dynamically from your data
    var months = new List<int> { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 };
    var days = Enumerable.Range(1, 31).ToList(); // Assuming all months have 31 days for simplicity
}

<link href="~/css/profile.css" rel="stylesheet" />

<style>
    body {
        background: url('@(Url.Content("~/BG4.jpg"))') no-repeat center center fixed;
        background-size: cover;
    }
</style>


@{
    int ryear = (int)ViewData["ryear"]!;
    int rmonth = (int)ViewData["rmonth"]!;
}

@if (ryear > 0)
{
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a asp-action="Summary">Overall</a></li>
        @if (rmonth > 0)
        {
            <li class="breadcrumb-item">
                <a asp-action="Summary"
                   asp-route-ryear="@ryear">@ryear</a>
            </li>
        }
    </ol>
}
<h2 style="text-align: center;">@ViewData["reportheader"]</h2>
@* <p3> Click to know more about your calories intake and spending based on each YEAR, MONTH and DAY you purchase:)</p3>
 *@
<body>

    <form asp-action="Summary" method="get">
        <div class="form-group row">
            <label for="years" class="control-label col-sm-1"> Year: </label>
            <div class="col-sm-3">
                <select id="years" name="ryear" class="form-control">
                    <option value="">-- Select One --</option>
                    <option value="2022">2022</option>
                    <option value="2023">2023</option>
                    <option value="2024">2024</option>
                </select>
            </div>
        </div>

        <div class="form-group row">
            <label for="months" class="control-label col-sm-1"> Month: </label>
            <div class="col-sm-3">
                <select id="months" name="rmonth" class="form-control">
                    <option value="">-- Select One --</option>
                    <option value="1">January</option>
                    <option value="2">February</option>
                    <option value="3">March</option>
                    <option value="4">April</option>
                    <option value="5">May</option>
                    <option value="6">June</option>
                    <option value="7">July</option>
                    <option value="8">August</option>
                    <option value="9">September</option>
                    <option value="10">October</option>
                    <option value="11">November</option>
                    <option value="12">December</option>
                </select>
            </div>
        </div>

        <div class="form-group row">
            <div class="offset-sm- col-sm-3">
                <input type="submit" class="btn btn-primary" value="Filter" />
            </div>
        </div>
    </form>

    <!-- Link Section with Bottom Margin -->
    <div class="link" style="margin-bottom: 20px; margin-top: 20px;">
        <div>
            Click to know more about your calories intake and spending based on each YEAR, MONTH and DAY you purchase:)
        </div>
    </div>

    <table class="table table-bordered table-condensed table-hover table-striped">
        <tr>
            <th class="col-1" width="24%">
                @if (ryear == 0)
                {
                    <text>Year</text>
                }
                else if (rmonth == 0)
                {
                    <text>Month</text>
                }
                else
                {
                    <text>Day</text>
                }
                @*period   this line should be changed to dynamically reflecting Day, Month or Year. Refer to SingRoom*@
            </th>
            <th class="col-1" width="10%">Total Average Calories Intake</th>
            <th class="col-1" width="10%">Total Average Spending</th>

        </tr>

        @foreach (var l in Model)
        {
            <tr>
                <td class="col-1" width="24%">
                    @if (ryear == 0)
                    {
                        <a asp-action="Summary"
                           asp-route-ryear="@l.Group">@l.Group</a>
                    }
                    else if (rmonth == 0)
                    {
                        <a asp-action="Summary"
                           asp-route-ryear="@ryear"
                           asp-route-rmonth="@l.Group">@l.Group</a>
                    }
                    else
                    {
                        @l.Group
                    }
                </td>
                <td class="col-1" width="19%">@l.Total</td>
                <td class="col-1" width="19%">@l.T</td>
            </tr>
        }
    </table>
</body>



